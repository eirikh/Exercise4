%%%%%%%%%%%%%%%% Including packages %%%%%%%%%%%%%%%%%
\documentclass[english,12pt]{article}
\usepackage{amsmath,epsfig}
\usepackage[latin1]{inputenc}
\usepackage{calc, epsfig, rotating, amsmath, boxedminipage}
\usepackage[T1]{fontenc}
\usepackage{babel}
\usepackage{textcomp} 
\usepackage{epstopdf}
\usepackage{makeidx}
\usepackage{sidecap}
\usepackage{amssymb}
\usepackage{blkarray}
\usepackage{multirow}
\usepackage{float}
\usepackage{ae} %does also load the fontenc package with T1 option
\usepackage{babel}
\usepackage{ifthen,tikz,xkeyval}
\usepackage{todonotes}
\usepackage{fancyhdr, rotating}
\usepackage{cite}
\usepackage{subfigure}
\usepackage{setspace}
\usepackage{xcolor}
\usepackage[intoc]{nomencl}
\usepackage{braket}
\usepackage{appendix}
\usepackage{lscape}
\usepackage[section]{placeins}

%%%%%%%%%%%%%%%%% Title page %%%%%%%%%%%%%%%%%%%%%%%%%
\title{\textbf{TMA4280 - Exercise 4}}
\author{Rolf H. Myhre and Eirik Hjertenæs}
\date{17.02.14}


%%%%%%%%%%%%%%%%% Paragraph settings %%%%%%%%%%%%%%%%%
\setlength{\parindent}{0pt}
\setlength{\parskip}{1ex plus 0.5 ex minus 0.2ex}

%%%%%%%%%%%%%%%% Beginning document %%%%%%%%%%%%%%%%%%

\begin{document}
\bibliographystyle{jcp}

%%%%%%%%%%%%%%%% Redefining commands %%%%%%%%%%%%%%%%%
\renewcommand{\thesubsection}{\alph{subsection}}
\newcommand{\ra}{\ensuremath \rightarrow}

\makeatletter
\renewcommand{\subsection}{\@startsection{subsection}{1}{0mm}{0.5\baselineskip}{0.5 \baselineskip}{\normalfont\normalsize\textbf}}
\renewcommand{\theenumi}{\roman{enumi}}
\renewcommand{\labelenumi}{\theenumi)}
\makeatother


\maketitle

%%%%%%%%%%%%%%%%%%%%%% Main part %%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%% Teaching goals %%%%%%%%%%%%%%%%%%%%%%%
\vspace{1.5cm}
\setcounter{tocdepth}{1}
\setcounter{secnumdepth}{0}
\setcounter{secnumdepth}{2}

\begin{center}
\section*{Summary}
In this exercise we have written a simple computer program that calculates the sum of the infitine series $S = \sum_{n=1}^{\infty}{\frac{1}{n^2}}$. This is referred to as the \emph{Basel problem} after the hometown of Leonhard Euler, the first who was able to show that the sum converges to $\frac{\pi^2}{6}$. Four versions of the computer program have been tested; a serial version, a parallelized code using OpenMP, a parallelized code using MPI and lastly a code using OpenMP and MPI in combination. We discuss the advantages and disadvantages of the versions of the program in terms of memory usage and efficiency. 
\end{center}

\newpage

\section{Introduction}
The computer programs we have written perform the simple task of generating the vector:	
	\begin{equation}
	v_i = \frac{1}{i^2}, i=1,\ldots,n
	\end{equation}
and then summing the elements
	\begin{equation}
	S_n = \sum_{i=1}^{n}{v_i}
	\end{equation}
	

\section{Results}

\section{Discussion and Conclusions}
As seen in Table~\ref{tab:results} the parallel and serial versions of the code yield exactly the same result (to double precision). This makes sense as the operations carried out are exactly the same. The elements of the vectors and the partial sums are communicated using the same precision as they are calculated with. The distribution of the vector v from process 0 the others can be done in several wasy, the two most obvious are MPI\_SEND and MPI\_SCATTER. I am not sure which of these are computationally cheaper, however, since scatter is conceptually simpler we have chosen to use that. Scatter distributes the elements of the vector v evenly to all the processes. The code is also simplified as we remove a loop and the calls to MPI\_RECV. To collect the sum of the vector elements from each process we employ MPI\_REDUCE.
\bibliography{master}

\end{document}
